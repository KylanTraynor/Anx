[gd_scene load_steps=21 format=3 uid="uid://xmliywr1ptda"]

[ext_resource type="Script" uid="uid://b8ntyx6sry52q" path="res://scripts/main.gd" id="1_0xm2m"]
[ext_resource type="PackedScene" uid="uid://bnht0v1pkreiq" path="res://subscenes/player.tscn" id="1_ig7tw"]
[ext_resource type="Script" uid="uid://dsuctdjc4m3pl" path="res://scripts/play_area.gd" id="2_1bvp3"]
[ext_resource type="Texture2D" uid="uid://b4svtifs3byw4" path="res://art/environments/test.jpg" id="2_h2yge"]
[ext_resource type="AudioStream" uid="uid://bb23ycm2oxmso" path="res://sounds/backgroundmusic/testmusic.wav" id="2_lquwl"]
[ext_resource type="Texture2D" uid="uid://fgyjm2wr0gsj" path="res://art/environments/test_10.png" id="5_4c57u"]
[ext_resource type="Texture2D" uid="uid://xcg6qdky8rg4" path="res://art/environments/test_9.png" id="5_dg77c"]
[ext_resource type="Texture2D" uid="uid://c01074owb1lix" path="res://art/environments/test_NRM.jpg" id="5_kek77"]
[ext_resource type="Script" uid="uid://dx2t13hh3xt1h" path="res://scripts/functionalities/interactable.gd" id="6_5vw27"]
[ext_resource type="Script" uid="uid://cio7j4mgolo0f" path="res://scripts/functionalities/waypoint.gd" id="6_272bh"]
[ext_resource type="Texture2D" uid="uid://b8ethwy4pl2ea" path="res://art/lights/defaultLight.webp" id="7_4c57u"]
[ext_resource type="PackedScene" uid="uid://b548ffdyjbrt4" path="res://scenes/test scene.tscn" id="7_5vw27"]

[sub_resource type="CanvasTexture" id="CanvasTexture_dg77c"]
diffuse_texture = ExtResource("2_h2yge")

[sub_resource type="CanvasTexture" id="CanvasTexture_ycdy4"]
diffuse_texture = ExtResource("5_dg77c")
normal_texture = ExtResource("5_kek77")

[sub_resource type="CanvasTexture" id="CanvasTexture_4c57u"]
diffuse_texture = ExtResource("5_4c57u")
normal_texture = ExtResource("5_kek77")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_h2yge"]
size = Vector2(2288, 752)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_1bvp3"]
size = Vector2(240, 100)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1bvp3"]
size = Vector2(242, 98)

[sub_resource type="CanvasTexture" id="CanvasTexture_efxa6"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dg77c"]
size = Vector2(242, 281)

[node name="Main" type="Node"]
script = ExtResource("1_0xm2m")

[node name="Sounds" type="Node" parent="."]

[node name="BackgroundMusicPlayer" type="AudioStreamPlayer" parent="Sounds"]
stream = ExtResource("2_lquwl")
autoplay = true
bus = &"Music"

[node name="BackgroundSoundPlayer" type="AudioStreamPlayer" parent="Sounds"]
autoplay = true
bus = &"Sounds"

[node name="PlayArea" type="Area2D" parent="."]
script = ExtResource("2_1bvp3")

[node name="Parallax2D9" type="Parallax2D" parent="PlayArea"]
scale = Vector2(2.13, 2.13)
scroll_scale = Vector2(0.8, 0.8)

[node name="Background" type="Sprite2D" parent="PlayArea/Parallax2D9"]
texture = SubResource("CanvasTexture_dg77c")
centered = false

[node name="Parallax2D10" type="Parallax2D" parent="PlayArea"]
scale = Vector2(2.13, 2.13)
scroll_scale = Vector2(0.95, 0.95)

[node name="Background" type="Sprite2D" parent="PlayArea/Parallax2D10"]
position = Vector2(-101.878, 0)
texture = SubResource("CanvasTexture_ycdy4")
centered = false

[node name="Background3" type="Sprite2D" parent="PlayArea"]
scale = Vector2(2.13, 2.13)
texture = SubResource("CanvasTexture_4c57u")
centered = false

[node name="Background2" type="Sprite2D" parent="PlayArea"]
position = Vector2(-1152, 0)
scale = Vector2(2.13, 2.13)
texture = ExtResource("2_h2yge")
centered = false

[node name="Shape" type="CollisionShape2D" parent="PlayArea"]
visible = false
position = Vector2(0, 384)
shape = SubResource("RectangleShape2D_h2yge")
debug_color = Color(0.0901961, 0.647059, 0, 0.298039)

[node name="Camera" type="Camera2D" parent="."]
process_callback = 0
limit_smoothed = true
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="Player" parent="." instance=ExtResource("1_ig7tw")]
position = Vector2(744, 417)
lock_rotation = true

[node name="PointLight2D" type="PointLight2D" parent="Player"]
texture = ExtResource("7_4c57u")
texture_scale = 8.83
height = 210.0

[node name="StartPosition" type="Marker2D" parent="."]
position = Vector2(599, 417)

[node name="Ground" type="StaticBody2D" parent="."]
visible = false
metadata/_edit_group_ = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Ground"]
position = Vector2(0, 568)
polygon = PackedVector2Array(-1152, 0, 1152, 0, 1152, 200, -1152, 200)

[node name="Objects" type="Node" parent="."]

[node name="Object" type="RigidBody2D" parent="Objects"]
position = Vector2(-120, 520)
mass = 100.0
lock_rotation = true
freeze = true
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Objects/Object"]
texture = SubResource("PlaceholderTexture2D_1bvp3")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Objects/Object"]
shape = SubResource("RectangleShape2D_1bvp3")

[node name="Interactable" type="Area2D" parent="Objects"]
position = Vector2(-1032, 520)
script = ExtResource("6_5vw27")
metadata/_edit_group_ = true

[node name="Waypoint" type="Node" parent="Objects/Interactable"]
script = ExtResource("6_272bh")
target_scene = ExtResource("7_5vw27")

[node name="Sprite2D" type="Sprite2D" parent="Objects/Interactable"]
position = Vector2(0, -91)
scale = Vector2(1, 2.82)
texture = SubResource("CanvasTexture_efxa6")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Objects/Interactable"]
position = Vector2(0, -91.5)
shape = SubResource("RectangleShape2D_dg77c")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.171039, 0.171039, 0.171039, 1)

[connection signal="interacted" from="Objects/Interactable" to="Objects/Interactable/Waypoint" method="switch_scene"]
